.checkbox {
    display: flex;
    user-select: none;
    width: var(--width);
    align-items: center;
    box-sizing: border-box;
    justify-content: space-between;
    height: var(--checkbox-container-height);
    margin: var(--checkbox-container-margin);
    cursor: var(--checkbox-container-cursor);
    padding: var(--checkbox-container-padding);
}



.checkbox-input {
    margin: 0;
    padding: 0;
    appearance: none;
    position: absolute;
}



.checkbox-border {
    display: flex;
    position: relative;
    align-items: center;
    box-sizing: border-box;
    justify-content: center;
    width: var(--checkbox-size);
    height: var(--checkbox-size);
    padding: var(--border-width);
    background: var(--checkbox-border-color);
    border-radius: var(--border-radius);

    &::before {
        content: "";
        flex-shrink: 0;
        border-radius: 50%;
        position: absolute;
        pointer-events: none;
        width: var(--overlay-size);
        height: var(--overlay-size);
    }
}



.checkbox-background {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--checkbox-background-color);
    border-radius: var(--background-border-radius);
}



svg {
    display: none;
    position: absolute;
    width: var(--checkmark-size);
    height: var(--checkmark-size);
    fill: var(--checkbox-checkmark-color);
}



.checkbox-label-container {
    margin-bottom: -1px;
    color: var(--checkbox-label-color);
    font-size: var(--checkbox-label-font-size);
    font-family: var(--checkbox-label-font-family);
}





// Checked

.checkbox-input:checked:not(:disabled)~.checkbox-border {
    background: var(--checkbox-checked-border-color);
}

.checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background {
    background: var(--checkbox-checked-background-color);
}

.checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background svg {
    display: block;
}

.checkbox-input:checked:not(:disabled)~.checkbox-label-container {
    color: var(--checkbox-checked-label-color);
}





// Hover

.checkbox:hover:not(.no-hover-background):not([disabled=true]) {
    background: var(--checkbox-container-background-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:not(:checked):not(:disabled)~.checkbox-border {
    background: var(--checkbox-border-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:not(:checked):not(:disabled)~.checkbox-border .checkbox-background {
    background: var(--checkbox-background-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:not(:checked):not(:disabled)~.checkbox-label-container {
    color: var(--checkbox-label-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:not(:checked):not(:disabled):not(:focus)~.checkbox-border::before {
    background: var(--checkbox-overlay-hover-color);
}





// Hover (Checked)

.checkbox:hover:not(:active) .checkbox-input:checked:not(:disabled)~.checkbox-border {
    background: var(--checkbox-checked-border-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background {
    background: var(--checkbox-checked-background-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background svg {
    fill: var(--checkbox-checkmark-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:checked:not(:disabled)~.checkbox-label-container {
    color: var(--checkbox-checked-label-hover-color);
}

.checkbox:hover:not(:active) .checkbox-input:checked:not(:disabled):not(:focus)~.checkbox-border::before {
    background: var(--checkbox-checked-overlay-hover-color);
}





// Active

.checkbox:active .checkbox-input:not(:checked):not(:disabled)~.checkbox-border {
    background: var(--checkbox-border-active-color);
}

.checkbox:active .checkbox-input:not(:checked):not(:disabled)~.checkbox-border .checkbox-background {
    background: var(--checkbox-background-active-color);
}

.checkbox:active .checkbox-input:not(:checked):not(:disabled)~.checkbox-label-container {
    color: var(--checkbox-label-active-color);
}

.checkbox:active .checkbox-input:not(:checked):not(:disabled)~.checkbox-border::before {
    background: var(--checkbox-overlay-active-color);
}





// Active (Checked)

.checkbox:active .checkbox-input:checked:not(:disabled)~.checkbox-border {
    background: var(--checkbox-checked-border-active-color);
}

.checkbox:active .checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background {
    background: var(--checkbox-checked-background-active-color);
}

.checkbox:active .checkbox-input:checked:not(:disabled)~.checkbox-border .checkbox-background svg {
    fill: var(--checkbox-checkmark-active-color);
}

.checkbox:active .checkbox-input:checked:not(:disabled)~.checkbox-label-container {
    color: var(--checkbox-checked-label-active-color);
}

.checkbox:active .checkbox-input:checked:not(:disabled)~.checkbox-border::before {
    background: var(--checkbox-checked-overlay-active-color);
}





// Focus

.checkbox-input:focus:not(:checked)~.checkbox-border::before {
    background: var(--checkbox-overlay-focus-color);
}





// Focus (Checked)

.checkbox-input:checked:focus~.checkbox-border::before {
    background: var(--checkbox-checked-overlay-focus-color);
}





// Focus-Visible

.checkbox-input:focus-visible:not(:checked)~.checkbox-border::before {
    background: var(--checkbox-overlay-focus-visible-color);
}





// Focus-Visible (Checked)

.checkbox-input:checked:focus-visible~.checkbox-border::before {
    background: var(--checkbox-checked-overlay-focus-visible-color);
}





// Disabled

.checkbox[disabled=true] {
    cursor: default;
}

.checkbox-input:disabled~.checkbox-border {
    background: var(--checkbox-border-disabled-color);
}

.checkbox-input:disabled~.checkbox-border .checkbox-background {
    background: var(--checkbox-background-disabled-color);
}

.checkbox-input:disabled~.checkbox-border .checkbox-background svg {
    display: none;
}

.checkbox-input:disabled~.checkbox-label-container {
    color: var(--checkbox-label-disabled-color);
}